{"version":3,"sources":["../../../../src/core/decorators/validators/is-valid-object-id.ts"],"sourcesContent":["import {\n  registerDecorator,\n  ValidationOptions,\n  ValidationArguments,\n} from 'class-validator';\nimport { isValidObjectId } from 'mongoose';\n\nexport function IsValidObjectId(validationOptions?: ValidationOptions) {\n  return function (object: object, propertyName: string) {\n    registerDecorator({\n      name: 'IsValidObjectId',\n      target: object.constructor,\n      propertyName: propertyName,\n      options: validationOptions,\n      validator: {\n        validate(value: any, args: ValidationArguments) {\n          return typeof value === 'string' && isValidObjectId(value);\n        },\n        defaultMessage(args: ValidationArguments) {\n          return `${args.property} must be a valid MongoDB ObjectId`;\n        },\n      },\n    });\n  };\n}\n"],"names":["IsValidObjectId","validationOptions","object","propertyName","registerDecorator","name","target","constructor","options","validator","validate","value","args","isValidObjectId","defaultMessage","property"],"mappings":";;;;+BAOgBA;;;eAAAA;;;gCAHT;0BACyB;AAEzB,SAASA,gBAAgBC,iBAAqC;IACnE,OAAO,SAAUC,MAAc,EAAEC,YAAoB;QACnDC,IAAAA,iCAAiB,EAAC;YAChBC,MAAM;YACNC,QAAQJ,OAAOK,WAAW;YAC1BJ,cAAcA;YACdK,SAASP;YACTQ,WAAW;gBACTC,UAASC,KAAU,EAAEC,IAAyB;oBAC5C,OAAO,OAAOD,UAAU,YAAYE,IAAAA,yBAAe,EAACF;gBACtD;gBACAG,gBAAeF,IAAyB;oBACtC,OAAO,GAAGA,KAAKG,QAAQ,CAAC,iCAAiC,CAAC;gBAC5D;YACF;QACF;IACF;AACF"}