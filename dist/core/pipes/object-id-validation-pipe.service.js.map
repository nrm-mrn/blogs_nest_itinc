{"version":3,"sources":["../../../src/core/pipes/object-id-validation-pipe.service.ts"],"sourcesContent":["import { ArgumentMetadata, Injectable, PipeTransform } from '@nestjs/common';\nimport { isValidObjectId } from 'mongoose';\nimport { DomainException } from '../exceptions/domain-exceptions';\nimport { DomainExceptionCode } from '../exceptions/domain-exception-codes';\n\n@Injectable()\nexport class ObjectIdValidationPipe implements PipeTransform {\n  transform(value: any, metadata: ArgumentMetadata) {\n    if (!isValidObjectId(value)) {\n      throw new DomainException({\n        code: DomainExceptionCode.BadRequest,\n        message: `invalid objectId: ${value}`,\n      });\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return value;\n  }\n}\n"],"names":["ObjectIdValidationPipe","transform","value","metadata","isValidObjectId","DomainException","code","DomainExceptionCode","BadRequest","message"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBAN+C;0BAC5B;kCACA;sCACI;;;;;;;AAG7B,IAAA,AAAMA,yBAAN,MAAMA;IACXC,UAAUC,KAAU,EAAEC,QAA0B,EAAE;QAChD,IAAI,CAACC,IAAAA,yBAAe,EAACF,QAAQ;YAC3B,MAAM,IAAIG,iCAAe,CAAC;gBACxBC,MAAMC,yCAAmB,CAACC,UAAU;gBACpCC,SAAS,CAAC,kBAAkB,EAAEP,OAAO;YACvC;QACF;QAEA,+DAA+D;QAC/D,OAAOA;IACT;AACF"}