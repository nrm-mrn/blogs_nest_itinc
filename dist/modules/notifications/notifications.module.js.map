{"version":3,"sources":["../../../src/modules/notifications/notifications.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\nimport { MailerModule } from '@nestjs-modules/mailer';\nimport { EmailService } from './email.service';\nimport { NotificationsConfig } from './notifications.config';\nimport { CoreConfig } from 'src/core/core.config';\nimport { NotificationsConfigModule } from './notificationsConfig.module';\n\n@Module({\n  imports: [\n    MailerModule.forRootAsync({\n      imports: [NotificationsConfigModule],\n      useFactory: (configService: NotificationsConfig) => {\n        return {\n          transport: `smtps://${configService.mailerLogin}:${configService.mailerPass}@${configService.mailerHost}`,\n          defaults: {\n            from: `\"bloggers platform\" <${configService.mailerLogin}>`,\n          },\n        };\n      },\n      inject: [CoreConfig],\n    }),\n  ],\n  providers: [EmailService],\n  exports: [EmailService],\n})\nexport class NotificationsModule {}\n"],"names":["NotificationsModule","imports","MailerModule","forRootAsync","NotificationsConfigModule","useFactory","configService","transport","mailerLogin","mailerPass","mailerHost","defaults","from","inject","CoreConfig","providers","EmailService","exports"],"mappings":";;;;+BAyBaA;;;eAAAA;;;wBAzBU;wBACM;8BACA;4BAEF;2CACe;;;;;;;AAoBnC,IAAA,AAAMA,sBAAN,MAAMA;AAAqB;;;QAjBhCC,SAAS;YACPC,oBAAY,CAACC,YAAY,CAAC;gBACxBF,SAAS;oBAACG,oDAAyB;iBAAC;gBACpCC,YAAY,CAACC;oBACX,OAAO;wBACLC,WAAW,CAAC,QAAQ,EAAED,cAAcE,WAAW,CAAC,CAAC,EAAEF,cAAcG,UAAU,CAAC,CAAC,EAAEH,cAAcI,UAAU,EAAE;wBACzGC,UAAU;4BACRC,MAAM,CAAC,qBAAqB,EAAEN,cAAcE,WAAW,CAAC,CAAC,CAAC;wBAC5D;oBACF;gBACF;gBACAK,QAAQ;oBAACC,sBAAU;iBAAC;YACtB;SACD;QACDC,WAAW;YAACC,0BAAY;SAAC;QACzBC,SAAS;YAACD,0BAAY;SAAC"}