{"version":3,"sources":["../../../../../../src/modules/bloggers-platform/comments/application/queries/get-comments-for-post.query.ts"],"sourcesContent":["import { IQueryHandler, QueryHandler } from '@nestjs/cqrs';\nimport { CommentsQueryRepository } from '../../infrastructure/comments.query-repository';\nimport { PaginatedViewDto } from 'src/core/dto/base.paginated.view-dto';\nimport { CommentViewDto } from '../../api/view-dto/comment-view.dto';\nimport { GetPostCommentsQueryParams } from '../../api/input-dto/get-post-comments-query-params.input-dto';\n\nexport class GetCommentsByPostQuery {\n  constructor(\n    public readonly query: GetPostCommentsQueryParams,\n    public readonly postId: string,\n    public readonly userId: string | null,\n  ) {}\n}\n\n@QueryHandler(GetCommentsByPostQuery)\nexport class GetCommentsByPostQueryHandler\n  implements\n    IQueryHandler<GetCommentsByPostQuery, PaginatedViewDto<CommentViewDto[]>>\n{\n  constructor(\n    private readonly commentsQueryRepository: CommentsQueryRepository,\n  ) {}\n\n  async execute(\n    query: GetCommentsByPostQuery,\n  ): Promise<PaginatedViewDto<CommentViewDto[]>> {\n    return this.commentsQueryRepository.getCommentsForPost(query);\n  }\n}\n"],"names":["GetCommentsByPostQuery","GetCommentsByPostQueryHandler","constructor","query","postId","userId","execute","commentsQueryRepository","getCommentsForPost"],"mappings":";;;;;;;;;;;QAMaA;eAAAA;;QASAC;eAAAA;;;sBAf+B;yCACJ;;;;;;;;;;AAKjC,IAAA,AAAMD,yBAAN,MAAMA;IACXE,YACE,AAAgBC,KAAiC,EACjD,AAAgBC,MAAc,EAC9B,AAAgBC,MAAqB,CACrC;aAHgBF,QAAAA;aACAC,SAAAA;aACAC,SAAAA;IACf;AACL;AAGO,IAAA,AAAMJ,gCAAN,MAAMA;IAQX,MAAMK,QACJH,KAA6B,EACgB;QAC7C,OAAO,IAAI,CAACI,uBAAuB,CAACC,kBAAkB,CAACL;IACzD;IARAD,YACE,AAAiBK,uBAAgD,CACjE;aADiBA,0BAAAA;IAChB;AAOL"}