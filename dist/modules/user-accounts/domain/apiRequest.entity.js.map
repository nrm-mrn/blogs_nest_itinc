{"version":3,"sources":["../../../../src/modules/user-accounts/domain/apiRequest.entity.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { CreateApiRequestDomainDto } from './dto/create-apiRequest.domain.dto';\nimport { HydratedDocument, Model } from 'mongoose';\n\n@Schema({ timestamps: true })\nexport class ApiRequest {\n  @Prop({ type: String, required: true, unique: true })\n  key: string;\n\n  @Prop({ type: [Number], default: [] })\n  timestamps: number[];\n\n  @Prop({ type: Number, default: 0 })\n  blockedUntil: number;\n\n  createdAt: string;\n  updatedAt: string;\n\n  static createApiRequest(dto: CreateApiRequestDomainDto) {\n    const req = new this();\n    req.key = dto.key;\n    req.timestamps = dto.timestamps;\n    req.blockedUntil = 0;\n\n    return req as ApiRequestDocument;\n  }\n}\n\nexport type ApiRequestDocument = HydratedDocument<ApiRequest>;\nexport type ApiRequestModelType = Model<ApiRequestDocument> & typeof ApiRequest;\nexport const ApiRequestSchema = SchemaFactory.createForClass(ApiRequest);\n\nApiRequestSchema.loadClass(ApiRequest);\n"],"names":["ApiRequest","ApiRequestSchema","createApiRequest","dto","req","key","timestamps","blockedUntil","type","String","required","unique","Number","default","SchemaFactory","createForClass","loadClass"],"mappings":";;;;;;;;;;;QAKaA;eAAAA;;QAyBAC;eAAAA;;;0BA9B+B;;;;;;;;;;AAKrC,IAAA,AAAMD,aAAN,MAAMA;IAaX,OAAOE,iBAAiBC,GAA8B,EAAE;QACtD,MAAMC,MAAM,IAAI,IAAI;QACpBA,IAAIC,GAAG,GAAGF,IAAIE,GAAG;QACjBD,IAAIE,UAAU,GAAGH,IAAIG,UAAU;QAC/BF,IAAIG,YAAY,GAAG;QAEnB,OAAOH;IACT;AACF;;;QApBUI,MAAMC;QAAQC,UAAU;QAAMC,QAAQ;;;;;;QAGtCH,MAAM;YAACI;SAAO;QAAEC,SAAS,EAAE;;;;;;QAG3BL,MAAMI;QAAQC,SAAS;;;;;;QARvBP,YAAY;;;AA0Bf,MAAML,mBAAmBa,uBAAa,CAACC,cAAc,CAACf;AAE7DC,iBAAiBe,SAAS,CAAChB"}