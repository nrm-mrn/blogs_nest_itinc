{"version":3,"sources":["../../../../../src/modules/user-accounts/api/view-dto/users.view-dto.ts"],"sourcesContent":["import { OmitType } from '@nestjs/swagger';\nimport { UserDocument } from '../../domain/user.entity';\n\nexport class UserViewDto {\n  id: string;\n  login: string;\n  email: string;\n  createdAt: string;\n\n  static mapToView(user: UserDocument): UserViewDto {\n    const dto = new UserViewDto();\n    dto.id = user._id.toString();\n    dto.login = user.login;\n    dto.email = user.email;\n    dto.createdAt = user.createdAt.toISOString();\n    return dto;\n  }\n}\n\n//https://docs.nestjs.com/openapi/mapped-types\nexport class MeViewDto extends OmitType(UserViewDto, [\n  'createdAt',\n  'id',\n] as const) {\n  userId: string;\n\n  static mapToView(user: UserDocument): MeViewDto {\n    const dto = new MeViewDto();\n\n    dto.email = user.email;\n    dto.login = user.login;\n    dto.userId = user._id.toString();\n\n    return dto;\n  }\n}\n"],"names":["MeViewDto","UserViewDto","mapToView","user","dto","id","_id","toString","login","email","createdAt","toISOString","OmitType","userId"],"mappings":";;;;;;;;;;;QAoBaA;eAAAA;;QAjBAC;eAAAA;;;yBAHY;AAGlB,IAAA,AAAMA,cAAN,MAAMA;IAMX,OAAOC,UAAUC,IAAkB,EAAe;QAChD,MAAMC,MAAM,IAAIH;QAChBG,IAAIC,EAAE,GAAGF,KAAKG,GAAG,CAACC,QAAQ;QAC1BH,IAAII,KAAK,GAAGL,KAAKK,KAAK;QACtBJ,IAAIK,KAAK,GAAGN,KAAKM,KAAK;QACtBL,IAAIM,SAAS,GAAGP,KAAKO,SAAS,CAACC,WAAW;QAC1C,OAAOP;IACT;AACF;AAGO,IAAA,AAAMJ,YAAN,MAAMA,kBAAkBY,IAAAA,iBAAQ,EAACX,aAAa;IACnD;IACA;CACD;IAGC,OAAOC,UAAUC,IAAkB,EAAa;QAC9C,MAAMC,MAAM,IAAIJ;QAEhBI,IAAIK,KAAK,GAAGN,KAAKM,KAAK;QACtBL,IAAII,KAAK,GAAGL,KAAKK,KAAK;QACtBJ,IAAIS,MAAM,GAAGV,KAAKG,GAAG,CAACC,QAAQ;QAE9B,OAAOH;IACT;AACF"}